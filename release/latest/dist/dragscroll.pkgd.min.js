/*
Copyright (c) 2019 Daybrush
name: @scena/dragscroll
license: MIT
author: Daybrush
repository: git+https://github.com/daybrush/dragscroll.git
version: 0.0.1
*/
!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(t=t||self).DragScroll=r()}(this,function(){"use strict";var s=function(t,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])})(t,r)};var f=function(){return(f=Object.assign||function(t){for(var r,n=1,e=arguments.length;n<e;n++)for(var i in r=arguments[n])Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);return t}).apply(this,arguments)};function c(t){return void 0===t}function h(t){var r=t.scrollContainer;return[r.scrollLeft,r.scrollTop]}return function(e){function t(){this.constructor=r}var r,n;function i(t,r){void 0===r&&(r={});var n=e.call(this)||this;return n.container=t,n.startRect=null,n.prevClientX=0,n.prevClientY=0,n.prevDirection=null,n.prevPos=[],n.options=f({scrollThreshold:0,getScrollPosition:h},r),n}s(r=i,n=e),r.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t);var o=i.prototype;return o.dragStart=function(){var t=this.container.getBoundingClientRect(),r=t.top,n=t.left,e=t.width,i=t.height;this.startRect={top:r,left:n,width:e,height:i}},o.drag=function(t){var r=t.clientX,n=t.clientY;this.prevDirection=null;var e=this.options,i=e.scrollThreshold,o=void 0===i?0:i,s=e.getScrollPosition,f=void 0===s?h:s,c=this.container,a=this.startRect,l=[0,0];return a.top>n-o?l[1]=-1:a.top+a.height<n+o&&(l[1]=1),a.left>r-o?l[0]=-1:a.left+a.width<r+o&&(l[0]=1),!(!l[0]&&!l[1])&&(this.prevDirection=l,this.prevPos=f({scrollContainer:c,direction:l}),this.trigger("scroll",{scrollContainer:c,direction:l}),!0)},o.dragAfter=function(){var t=this.prevPos,r=this.prevDirection,n=this.container;if(!this.prevDirection)return!1;var e=(0,this.options.getScrollPosition)({scrollContainer:n,direction:r}),i=e[0]-t[0],o=e[1]-t[1];return!(!i&&!o)&&(this.trigger("move",{offsetX:r[0]?i:0,offsetY:r[1]?o:0}),!0)},i}(function(){var t=function(){function t(){this._eventHandler={},this.options={}}var r=t.prototype;return r.trigger=function(t,r){void 0===r&&(r={});var n=this._eventHandler[t]||[];if(!(0<n.length))return!0;n=n.concat(),r.eventType=t;var e=!1,i=[r],o=0;r.stop=function(){e=!0},r.currentTarget=this;for(var s=arguments.length,f=new Array(2<s?s-2:0),c=2;c<s;c++)f[c-2]=arguments[c];for(1<=f.length&&(i=i.concat(f)),o=0;n[o];o++)n[o].apply(this,i);return!e},r.once=function(i,o){if("object"==typeof i&&c(o)){var t,r=i;for(t in r)this.once(t,r[t]);return this}if("string"==typeof i&&"function"==typeof o){var s=this;this.on(i,function t(){for(var r=arguments.length,n=new Array(r),e=0;e<r;e++)n[e]=arguments[e];o.apply(s,n),s.off(i,t)})}return this},r.hasOn=function(t){return!!this._eventHandler[t]},r.on=function(t,r){if("object"==typeof t&&c(r)){var n,e=t;for(n in e)this.on(n,e[n]);return this}if("string"==typeof t&&"function"==typeof r){var i=this._eventHandler[t];c(i)&&(this._eventHandler[t]=[],i=this._eventHandler[t]),i.push(r)}return this},r.off=function(t,r){if(c(t))return this._eventHandler={},this;if(c(r)){if("string"==typeof t)return this._eventHandler[t]=void 0,this;var n,e=t;for(n in e)this.off(n,e[n]);return this}var i,o,s=this._eventHandler[t];if(s)for(i=0;void 0!==(o=s[i]);i++)if(o===r){s=s.splice(i,1);break}return this},t}();return t.VERSION="2.1.2",t}())});
//# sourceMappingURL=dragscroll.pkgd.min.js.map
